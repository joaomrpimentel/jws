<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>JWS-1 v6</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&family=JetBrains+Mono:wght@500;700&display=swap" rel="stylesheet">

    <!-- Ícones (Phosphor Icons) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <button id="help-btn" class="help-btn" title="Help">?</button>

    <div class="synth-container engine-subtractive" id="synth-container">
        <!-- Linha Superior: Controles Principais -->
        <div class="main-controls-grid">
            <!-- Coluna Esquerda: Marca e Slider -->
            <div class="left-column">
                <a href="https://jotaverse.com.br" target="_blank" rel="noopener noreferrer" class="brand-link" title="Voltar para Jotaverse">
                    <div class="brand">JWS-1 シンセサイザー</div>
                </a>
                <div class="fader-wrapper">
                    <div class="fader-container">
                        <div class="fader-track"></div>
                        <input type="range" min="0" max="100" value="50" class="fader-slider" id="main-fader">
                    </div>
                    <button class="fader-mode-btn" id="fader-mode-btn">CUT</button>
                </div>
            </div>

            <!-- Coluna Direita: Painel de Controle -->
            <div class="right-column">
                <div class="control-panel">
                    <div class="top-row">
                        <div class="display">
                            <canvas id="display-canvas"></canvas>
                            <div class="display-info">
                                <div id="display-param1">ENGINE: SUBTRACTIVE</div>
                                <div id="display-param2">WAVE: SINE</div>
                                <div id="display-param3">CUT: 18000</div>
                            </div>
                            <div id="display-message" class="display-message-overlay">READY</div>
                        </div>
                        <div class="knobs-container">
                            <div class="knob-wrapper">
                                <div class="knob" id="knob-1"></div>
                                <div class="knob-label" id="knob-label-1">OCT</div>
                            </div>
                            <div class="knob-wrapper">
                                <div class="knob" id="knob-2"></div>
                                <div class="knob-label" id="knob-label-2">ATK</div>
                            </div>
                            <div class="knob-wrapper">
                                <div class="knob" id="knob-3"></div>
                                <div class="knob-label" id="knob-label-3">SUS</div>
                            </div>
                            <div class="knob-wrapper">
                                <div class="knob" id="knob-4"></div>
                                <div class="knob-label" id="knob-label-4">DEC</div>
                            </div>
                            <div class="knob-wrapper">
                                <div class="knob" id="knob-5"></div>
                                <div class="knob-label" id="knob-label-5">REL</div>
                            </div>
                        </div>
                    </div>
                    <div class="unified-button-grid">
                        <!-- Linha 1 -->
                        <button class="control-btn instrument-btn" id="instrument-btn-1"><i class="ph-fill ph-wave-sine"></i></button>
                        <button class="control-btn num-btn" data-preset="1">1</button>
                        <button class="control-btn num-btn" data-preset="2">2</button>
                        <button class="control-btn" id="hold-btn" data-perform="hold">HLD</button>
                        
                        <!-- Linha 2 -->
                        <button class="control-btn instrument-btn" id="instrument-btn-2"><i class="ph-fill ph-wave-square"></i></button>
                        <button class="control-btn num-btn" data-preset="3">3</button>
                        <button class="control-btn num-btn" data-preset="4">4</button>
                        <button class="control-btn" id="engine-btn">ENG</button>

                        <!-- Linha 3 -->
                        <button class="control-btn instrument-btn" id="instrument-btn-3"><i class="ph-fill ph-wave-sawtooth"></i></button>
                        <button class="control-btn" data-effect="reverb">REV</button>
                        <button class="control-btn" data-effect="delay">DLY</button>
                        <button class="control-btn" id="arp-btn" data-perform="arp">ARP</button>
                        
                        <!-- Linha 4 -->
                        <button class="control-btn instrument-btn" id="instrument-btn-4"><i class="ph-fill ph-wave-triangle"></i></button>
                        <button class="control-btn" data-effect="distortion">DST</button>
                        <button class="control-btn" id="sequencer-play-btn">SEQ</button>
                        <div class="arp-controls">
                            <button class="control-btn arp-direction-btn" id="arp-up-btn" data-direction="up">▲</button>
                            <button class="control-btn arp-direction-btn" id="arp-down-btn" data-direction="down">▼</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="sequencer-container">
            <div class="seq-steps" id="sequencer-steps"></div>
        </div>

        <div class="keyboard-container" id="keyboard"></div>
    </div>

    <div id="help-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="close-modal-btn" class="close-btn">&times;</button>
            <h2>Welcome to JWS-1</h2>
            <p>The drum engine has been massively upgraded. Here's what's new:</p>
            <ul>
                <li><strong>Four Drum Kits:</strong> In Drum Mode, you can now select between four distinct kits:
                    <ul>
                        <li><i class="ph-fill ph-drum"></i> <strong>Acoustic:</strong> Classic, realistic drum sounds.</li>
                        <li><i class="ph-fill ph-robot"></i> <strong>Electronic:</strong> Punchy, 808-style machine sounds.</li>
                        <li><i class="ph-fill ph-vinyl-record"></i> <strong>Lo-Fi:</strong> Saturated, dusty beats with vinyl crackle.</li>
                        <li><i class="ph-fill ph-globe"></i> <strong>Ethnic:</strong> World percussion sounds like bongos and congas.</li>
                    </ul>
                </li>
                 <li><strong>Full Drum Kits on Keyboard:</strong> The entire keyboard is mapped to a full set of drum and percussion sounds for each kit.</li>
                 <li><strong>Global Filter:</strong> The main Fader now controls a master filter cutoff that affects ALL sound engines.</li>
            </ul>
        </div>
    </div>

    <script src="js/main.js" type="module"></script>
</body>
</html>
